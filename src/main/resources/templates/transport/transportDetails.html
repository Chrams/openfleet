<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Meta and viewport settings -->
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE-edge"/>
    <meta name="viewport" content="width-device-width, initial-scale=1"/>

    <!-- Header Section -->
    <title>OpenFleet</title>
    <link rel="stylesheet" href="/css/style.css"/>

</head>
<body>

<!-- Top navigation bar -->
<div th:replace="navbar :: navbar-top"></div>

<!-- Header -->
<div th:replace="header :: header-top"></div>

<!-- Main -->
<section id="main">
    <div class="container-fluid">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Details</h3>
            </div>
            <div class="panel-body">
                    <input type="hidden" name="jobId"/>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group" id="tractorGroup">
                                <label class="control-label col-sm-2" for="tractorInput">Tractor</label>
                                <div class="col-sm-8">
                                    <input type="hidden" id="hiddenTractorId" th:value="${transport} ? ${transport.tractor.id} : ''"/>
                                    <p id="tractorInput"></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group" id="trailerGroup">
                                <label class="control-label col-sm-2" for="trailerInput">Trailer</label>
                                <div class="col-sm-8">
                                    <input type="hidden" id="hiddenTrailerId" th:value="${transport} ? ${transport.trailer.id} : ''"/>
                                    <p id="trailerInput"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group" id="employeeGroup">
                                <label class="control-label col-sm-2" for="employeeInput">Employee</label>
                                <div class="col-sm-8">
                                    <input type="hidden" id="hiddenEmployeeId" th:value="${transport} ? ${transport.employee.id} : ''"/>
                                    <p id="employeeInput"></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group" id="cargoNameGroup">
                                <label class="control-label col-sm-2" for="cargoNameInput">Cargo Name</label>
                                <div class="col-sm-8">
                                    <p id="cargoNameInput" th:text="${transport} ? ${transport.CargoName} : ''"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group" id="cargoCountGroup">
                                <label class="control-label col-sm-2" for="cargoCountInput">Cargo Count</label>
                                <div class="col-sm-8">
                                    <p id="cargoCountInput" th:text="${transport} ? ${transport.CargoCount} : ''"></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group" id="cargoWeightGroup">
                                <label class="control-label col-sm-2" for="cargoWeightInput">Cargo Weight</label>
                                <div class="col-sm-8">
                                    <p id="cargoWeightInput" th:text="${transport} ? ${transport.CargoWeight} : ''"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group" id="placeOfLoadGroup">
                                <label class="control-label col-sm-2" for="placeOfLoadInput">Place of Load</label>
                                <div class="col-sm-8">
                                    <input th:if="${transport}" type="hidden" id="hiddenPlaceOfLoad" th:value="${transport.PlaceOfLoad} ? ${transport.PlaceOfLoad.id} : ''"/>
                                    <p id="placeOfLoadInput"></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group" id="timeOfLoadGroup">
                                <label class="control-label col-sm-2" for="timeOfLoadInput">Time of Load</label>
                                <div class="col-sm-8">
                                    <p id="timeOfLoadInput" th:text="${transport} ? ${transport.TimeOfLoad} : ''"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group" id="placeOfUnloadGroup">
                                <label class="control-label col-sm-2" for="placeOfUnloadInput">Place of Unload</label>
                                <div class="col-sm-8">
                                    <input th:if="${transport}" type="hidden" id="hiddenPlaceOfUnload" th:value="${transport.PlaceOfUnload} ? ${transport.PlaceOfUnload.id} : ''"/>
                                    <p id="placeOfUnloadInput"></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group" id="timeOfUnloadGroup">
                                <label class="control-label col-sm-2" for="timeOfUnloadInput">Time of Unload</label>
                                <div class="col-sm-8">
                                    <p id="timeOfUnloadInput" th:text="${transport} ? ${transport.TimeOfUnload} : ''"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group" id="timeOfStartGroup">
                                <label class="control-label col-sm-2" for="timeOfStartInput">Start of the job</label>
                                <div class="col-sm-8">
                                    <p id="timeOfStartInput" th:text="${transport} ? ${transport.start} : ''"></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group" id="timeOfFinishGroup">
                                <label class="control-label col-sm-2" for="timeOfFinishInput">End of the job</label>
                                <div class="col-sm-8">
                                    <p id="timeOfFinishInput" th:text="${transport} ? ${transport.finish} : ''"></p>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Costs list</h3>
                    </div>
                    <div class="panel-body">
                        <table class="table table-hover">
                            <tr>
                                <th>#</th>
                                <th>AMOUNT</th>
                                <th>CURRENCY</th>
                                <th>DATE</th>
                                <th>DESCRIPTION</th>
                                <th>&nbsp;</th>
                            </tr>
                            <tr th:each="cost : ${transport.costs}">
                                <td th:text="${cost.id}"></td>
                                <td th:text="${cost.amount}"></td>
                                <td th:text="${cost.currency}"></td>
                                <td th:text="${cost.date}"></td>
                                <td th:text="${cost.costDescription}"></td>
                                <td>
                                    <a th:href="@{/transport/job/deleteCost(id=${cost.id},transportId=${transport.id})}"><i
                                            class="fa fa-trash"></i></a></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Add Cost</h3>
            </div>
            <div class="panel-body">
                <form method="post" action="/transport/job/addCost">
                    <input type="hidden" name="transportId" th:value="${transport.id}"/>
                    <div class="row">
                        <div class="col-lg-6">
                            <label class="control-label">Amount</label>
                        </div>
                        <div class="col-lg-6">
                            <input type="number" name="amount" class="form-control"/>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Currency</label>
                        </div>
                        <div class="col-lg-6">
                            <input type="text" name="currency" value="HUF" class="form-control"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <label class="control-label">Description</label>
                        </div>
                        <div class="col-lg-6">
                            <input type="text" name="costDescription" class="form-control"/>
                        </div>
                        <div class="col-lg-6">
                            <label class="control-label">Date</label>
                        </div>
                        <div class="col-lg-6">
                            <input type="date" name="date" class="form-control"/>
                        </div>
                    </div>
                    <input type="submit" class="btn btn-success" value="Save"/>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- footer -->
<div th:replace="footer :: footer"></div>
<!-- Scripts -->
<script src="/js/transportDetails.js"></script>
</body>
</html>